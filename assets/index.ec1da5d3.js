const h=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}};h();const g="ff8a01f9e04db2dc9bcfe794cf6fbfa4";async function f(n,t="",i=""){try{const r=await L(n,t,i);return await(await fetch(y(r[0],r[1]),{mode:"cors"})).json()}catch{return null}}function y(n,t){return`https://api.openweathermap.org/data/2.5/weather?lat=${n}&lon=${t}&appid=${g}&units=metric`}function C(n,t="",i=""){const r=t&&","+t,e=i&&","+i;return`http://api.openweathermap.org/geo/1.0/direct?q=${n}${r},${e}&limit=${5}&appid=${g}`}async function L(n,t="",i=""){const o=await(await(await fetch(C(n,t,i),{mode:"cors"})).json())[0];return[await o.lat,await o.lon]}const m=document.querySelector("#app");w();function w(){const n=document.createElement("div");n.classList.toggle("card-holder");const t=E(n);m.appendChild(t),m.appendChild(n)}function E(n){const t=document.createElement("div");t.classList.toggle("input-holder");const i=document.createElement("label");i.htmlFor="city-input",i.textContent="City ";const r=document.createElement("input");return r.type="text",r.id="city-input",r.addEventListener("keypress",async e=>{if(e.key==="Enter"){e.preventDefault();let o=await f(r.value);await o?n.prepend($(o)):r.placeholder="Can't find city",r.value=""}}),t.appendChild(i),t.appendChild(r),t}function $(n){console.log(n);const t=document.createElement("div");t.classList.toggle("city-weather-card");const i=document.createElement("img");i.classList.toggle("weather-icon"),i.src=`http://openweathermap.org/img/wn/${n.weather[0].icon}@2x.png`;const r=document.createElement("p");r.classList.toggle("temperature"),r.textContent=`${n.main.temp} \xB0C`;const e=document.createElement("div");e.classList.toggle("liddle-holder");const o=document.createElement("p");o.classList.toggle("pressure"),o.textContent=`Pressure: ${n.main.pressure}mbar`;const c=document.createElement("p");c.classList.toggle("humidity"),c.textContent=`Humidity: ${n.main.humidity}%`;const a=document.createElement("p");a.classList.toggle("wind"),a.textContent=`Wind: ${n.wind.speed}m/s`,e.appendChild(o),e.appendChild(c),e.appendChild(a);const s=document.createElement("div");s.classList.toggle("right-holder");const l=document.createElement("p");l.classList.toggle("city-name"),l.textContent=n.name;const d=document.createElement("span");d.classList.toggle("country-name"),d.textContent=n.sys.country;const p=document.createElement("p");p.classList.toggle("date"),p.textContent=new Date().toJSON().slice(0,10).replace(/-/g,"/");const u=document.createElement("p");return u.classList.toggle("weather-description"),u.textContent=n.weather[0].description,s.appendChild(l),s.appendChild(d),s.appendChild(p),s.appendChild(u),t.appendChild(i),t.appendChild(r),t.appendChild(e),t.appendChild(s),t}
